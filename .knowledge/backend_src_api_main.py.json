{"is_source_file": true, "format": "Python", "description": "Main FastAPI application setup for a multitenant time tracking system, including API route initialization, middleware, exception handling, health check endpoints, WebSocket for real-time updates, and application startup/shutdown events.", "external_files": ["../database/connection", "./routes"], "external_methods": ["DatabaseManager.init_db", "get_db"], "published": ["app"], "classes": [], "methods": [{"name": "global_exception_handler(request: Request, exc: Exception)", "description": "Handles exceptions globally and returns a JSON error response.", "scope": "", "scopeKind": ""}, {"name": "startup_event()", "description": "Initializes the database and performs startup routines.", "scope": "", "scopeKind": ""}, {"name": "shutdown_event()", "description": "Handles cleanup during app shutdown.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Basic health check endpoint indicating API health status.", "scope": "", "scopeKind": ""}, {"name": "detailed_health_check()", "description": "Performs a detailed health check including database connectivity.", "scope": "", "scopeKind": ""}, {"name": "websocket_documentation()", "description": "Provides documentation for the WebSocket real-time update endpoint.", "scope": "", "scopeKind": ""}, {"name": "websocket_endpoint(websocket, client_id: str)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["DatabaseManager.init_db", "next(get_db())", "db.execute(\"SELECT 1\")", "db.close()"], "search-terms": ["FastAPI main app setup", "health check endpoints", "WebSocket real-time updates", "Database connection initialization", "API route inclusion", "multitenant time tracker"], "state": 2, "file_id": 1, "knowledge_revision": 79, "git_revision": "7128d9f9473ccc2280fc6e7fa555e82c470ea2f5", "revision_history": [{"8": "9ca924c02e2a5aded0b747a4045f2f5bd7e0285d"}, {"69": "9ca924c02e2a5aded0b747a4045f2f5bd7e0285d"}, {"79": "7128d9f9473ccc2280fc6e7fa555e82c470ea2f5"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "detailed_health_check", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^def detailed_health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "global_exception_handler", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def global_exception_handler(request: Request, exc: Exception):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: Exception)"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "shutdown_event", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def shutdown_event():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "startup_event", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def startup_event():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "websocket_documentation", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^def websocket_documentation():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "websocket_endpoint", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def websocket_endpoint(websocket, client_id: str):$/", "language": "Python", "kind": "function", "signature": "(websocket, client_id: str)"}], "hash": "16b334750317899ad29e4444b362e990", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}]}