{"is_source_file": true, "format": "Python", "description": "This is the main entry point for a FastAPI application for a multitenant time tracking API. It initializes the app, configures middleware, exception handling, startup/shutdown events, health check endpoints, includes various route modules, and defines a WebSocket endpoint for real-time updates.", "external_files": ["../database/connection", "./routes"], "external_methods": ["DatabaseManager.init_db", "get_db"], "published": ["app"], "classes": [], "methods": [{"name": "health_check()", "description": "Returns basic health status of the API.", "scope": "", "scopeKind": ""}, {"name": "detailed_health_check()", "description": "Performs a detailed health check including database connectivity.", "scope": "", "scopeKind": ""}, {"name": "websocket_documentation()", "description": "Provides documentation for the WebSocket endpoint used for real-time updates.", "scope": "", "scopeKind": ""}, {"name": "global_exception_handler(request: Request, exc: Exception)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "shutdown_event()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "startup_event()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "websocket_endpoint(websocket, client_id: str)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["DatabaseManager.init_db", "next(get_db())", "db.execute(\"SELECT 1\").scalar()", "db.close()", "uvicorn.run"], "search-terms": ["FastAPI main", "multitenant time tracker API", "WebSocket", "startup event", "health check", "middleware", "error handling"], "state": 2, "file_id": 1, "knowledge_revision": 69, "git_revision": "9ca924c02e2a5aded0b747a4045f2f5bd7e0285d", "revision_history": [{"8": "9ca924c02e2a5aded0b747a4045f2f5bd7e0285d"}, {"69": "9ca924c02e2a5aded0b747a4045f2f5bd7e0285d"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "detailed_health_check", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^def detailed_health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "global_exception_handler", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def global_exception_handler(request: Request, exc: Exception):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: Exception)"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "shutdown_event", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def shutdown_event():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "startup_event", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def startup_event():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "websocket_documentation", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^def websocket_documentation():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "websocket_endpoint", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/api/main.py", "pattern": "/^async def websocket_endpoint(websocket, client_id: str):$/", "language": "Python", "kind": "function", "signature": "(websocket, client_id: str)"}], "hash": "12c3e43e56c7a0b5c79efdf03a78349c", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}]}