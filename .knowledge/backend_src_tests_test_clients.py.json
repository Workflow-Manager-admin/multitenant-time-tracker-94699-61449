{"is_source_file": true, "format": "Python", "description": "This file contains unit tests for client management functionalities in a multitenant FastAPI application. It tests CRUD operations, filtering, search, tenant isolation, and related client-project functionalities.", "external_files": [".test_base"], "external_methods": ["self.assert_success_response", "self.assert_conflict", "self.assert_validation_error", "self.assert_error_response", "self.assert_not_found"], "published": [], "classes": [{"name": "TestClientManagement", "description": "Test cases for client CRUD operations, including creation, duplication, validation, retrieval, update, deactivation, deletion, filtering, and search."}, {"name": "TestClientProjects", "description": "Test cases for retrieving projects and time summaries associated with a client."}, {"name": "TestClientTenantIsolation", "description": "Test cases ensuring tenant data isolation and proper tenant assignment during client creation, listing, and access control."}], "methods": [{"name": "test_create_client_success(self, client: Mock, auth_headers: Dict[str, str], sample_client_data: Dict[str, Any])", "description": "Tests successful creation of a new client with valid data.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_create_client_duplicate_name(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests conflict error when trying to create a client with a duplicate name within the same tenant.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_create_client_invalid_email(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests validation error when providing an improperly formatted email during client creation.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_get_client_details(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests retrieval of detailed information for a specific client.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_update_client_contact_info(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests updating contact information for an existing client.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_deactivate_client(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests deactivating a client.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_delete_client_with_projects(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests that deletion of a client with active projects fails.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_list_clients_with_filters(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests filtering the client list by status and project association.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_search_clients(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests searching clients by keywords in name or email.", "scope": "TestClientManagement", "scopeKind": "class"}, {"name": "test_get_client_projects(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests retrieving all projects associated with a specific client.", "scope": "TestClientProjects", "scopeKind": "class"}, {"name": "test_get_client_time_summary(self, client: Mock, auth_headers: Dict[str, str])", "description": "Tests retrieving time tracking summaries for a client within a date range.", "scope": "TestClientProjects", "scopeKind": "class"}, {"name": "test_client_creation_tenant_assignment(self, client: Mock, auth_headers: Dict[str, str], sample_client_data: Dict[str, Any])", "description": "Ensures that newly created clients are assigned to the current tenant automatically.", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"name": "test_client_list_tenant_filtering(self, client: Mock, auth_headers: Dict[str, str], different_tenant_headers: Dict[str, str])", "description": "Verifies tenant-based filtering of client lists, ensuring data isolation.", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"name": "test_cross_tenant_client_access_denied(self, client: Mock, auth_headers: Dict[str, str])", "description": "Checks that cross-tenant access to client data is not permitted.", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"name": "test_client_name_uniqueness_per_tenant(self, client: Mock, auth_headers: Dict[str, str])", "description": "Verifies that client names are unique within each tenant but can be shared across tenants.", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"name": "mock_get_clients(url, headers=None, **kwargs)", "scope": "TestClientTenantIsolation.test_client_list_tenant_filtering", "scopeKind": "member", "description": "unavailable"}], "calls": ["client.post", "client.get", "client.put", "client.delete"], "search-terms": ["client CRUD", "tenant isolation", "multitenant", "fastapi", "unit tests", "client projects", "client time summary", "client search", "client filters"], "state": 2, "file_id": 11, "knowledge_revision": 27, "git_revision": "9ff47480a024dbe16803051e71707605bc26908f", "ctags": [{"_type": "tag", "name": "TestClientManagement", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^class TestClientManagement(BaseCRUDTest, TenantIsolationTestMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestClientProjects", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^class TestClientProjects(BaseAPITest):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TestClientTenantIsolation", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^class TestClientTenantIsolation(BaseAPITest, TenantIsolationTestMixin):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "base_url", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    base_url = \"\\/clients\"$/", "language": "Python", "kind": "variable", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "base_url", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    base_url = \"\\/clients\"$/", "language": "Python", "kind": "variable", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"_type": "tag", "name": "mock_get_clients", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^        def mock_get_clients(url, headers=None, **kwargs):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, **kwargs)", "scope": "TestClientTenantIsolation.test_client_list_tenant_filtering", "scopeKind": "member"}, {"_type": "tag", "name": "test_client_creation_tenant_assignment", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_client_creation_tenant_assignment(self, client: Mock, auth_headers: Dict[str, str],/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str], sample_client_data: Dict[str, Any])", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"_type": "tag", "name": "test_client_list_tenant_filtering", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_client_list_tenant_filtering(self, client: Mock, auth_headers: Dict[str, str], $/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str], different_tenant_headers: Dict[str, str])", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"_type": "tag", "name": "test_client_name_uniqueness_per_tenant", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_client_name_uniqueness_per_tenant(self, client: Mock, auth_headers: Dict[str, str])/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_client_duplicate_name", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_create_client_duplicate_name(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_client_invalid_email", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_create_client_invalid_email(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_create_client_success", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_create_client_success(self, client: Mock, auth_headers: Dict[str, str], $/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str], sample_client_data: Dict[str, Any])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_cross_tenant_client_access_denied", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_cross_tenant_client_access_denied(self, client: Mock, auth_headers: Dict[str, str])/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientTenantIsolation", "scopeKind": "class"}, {"_type": "tag", "name": "test_deactivate_client", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_deactivate_client(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_delete_client_with_projects", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_delete_client_with_projects(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_client_details", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_get_client_details(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_client_projects", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_get_client_projects(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientProjects", "scopeKind": "class"}, {"_type": "tag", "name": "test_get_client_time_summary", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_get_client_time_summary(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientProjects", "scopeKind": "class"}, {"_type": "tag", "name": "test_list_clients_with_filters", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_list_clients_with_filters(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_search_clients", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_search_clients(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}, {"_type": "tag", "name": "test_update_client_contact_info", "path": "/home/kavia/workspace/code-generation/multitenant-time-tracker-94699-61449/backend/src/tests/test_clients.py", "pattern": "/^    def test_update_client_contact_info(self, client: Mock, auth_headers: Dict[str, str]):$/", "language": "Python", "kind": "member", "signature": "(self, client: Mock, auth_headers: Dict[str, str])", "scope": "TestClientManagement", "scopeKind": "class"}], "hash": "746894d5dd877ec0426da294a638db9f", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/tests/test_clients.py", "fields": [{"name": "base_url = \"\\/clients\"", "scope": "TestClientManagement", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": "9ff47480a024dbe16803051e71707605bc26908f"}]}